import{_ as pe}from"../chunks/PPVm8Dsz.js";import{f as b,a as c,t as fe}from"../chunks/ChvGfjHK.js";import{o as ge}from"../chunks/Bk01Ho5O.js";import{p as re,g as e,aM as se,c as o,r,t as x,a as oe,ad as E,V as xe,s as l,b as v,f as te}from"../chunks/C5K1Yg5B.js";import{s as L}from"../chunks/CliCnMxv.js";import{i as R}from"../chunks/DaHJMf7G.js";import{e as U}from"../chunks/BVS0q2To.js";import{r as we}from"../chunks/Bqkc9qf9.js";import{d as ye,a as G}from"../chunks/Co33GQ6k.js";import{b as he}from"../chunks/D8pj6tNt.js";import{b as ke}from"../chunks/BdPmDRBi.js";import{s as Se,a as Fe,d as ae}from"../chunks/Bwczmf3X.js";import{s as Ae}from"../chunks/DcH0Rxn3.js";import{s as Ce}from"../chunks/CfrceTM-.js";import{C as $e}from"../chunks/Cgwb_Dyq.js";import{m as I}from"../chunks/DjkpVNvv.js";import{f as De}from"../chunks/B_Hhx7_u.js";var ze=b("<div><!></div>"),Ee=b('<div class="grid grid-cols-3 place-content-center justify-center gap-0.5"></div>');function O(j,m){re(m,!0);const w=n=>{switch(n.toUpperCase()){case"U":return[0,9];case"R":return[9,18];case"F":return[18,27];case"D":return[27,36];case"L":return[36,45];case"B":return[45,54];default:return[0,0]}},A=new $e;let P=se(()=>(A.identity(),A.move(m.scramble.replaceAll("Uw","u").replaceAll("Rw","r").replaceAll("Fw","f").replaceAll("Dw","d").replaceAll("Lw","l").replaceAll("Bw","b")),A.asString()));var _=Ee();U(_,23,()=>e(P).slice(w(m.face)[0],w(m.face)[1]),(n,s)=>`${m.face}-${s}`,(n,s,C)=>{var i=ze(),y=o(i);{var $=u=>{var S=fe();x(F=>L(S,F),[()=>m.face.toUpperCase()]),c(u,S)};R(y,u=>{e(C)===4&&u($)})}r(i),x(u=>{Ae(i,1,u,"svelte-12vusa9"),Ce(i,`width:${m.size}px;height:${m.size}px;`)},[()=>`flex items-center justify-center font-bold ${e(s).toLowerCase()} border border-black`]),c(n,i)}),r(_),c(j,_),oe()}var Le=b("<option> </option>"),Re=b('<label>Scrambles <input class="w-16 px-0.5" type="number"/></label><button class="inline-block" type="button">Generate</button>',1),Ge=b("<button>Copy Scrambles</button>"),Ue=b('<button class="mb-1" type="button">Save</button>'),je=b('<tr class="bg-slate-200"><td class="border border-black px-2 text-right">#</td><td class="border border-black px-2">Scramble</td><td class="border border-black px-2">Draw Scramble</td></tr>'),Pe=b("<div> </div>"),Be=b('<!> <tr><td class="border border-black px-2 text-right"> </td><td class="border border-black px-2"><div class="grid grid-cols-9 gap-2"></div></td><td class="border border-black p-2"><div class="flex flex-row gap-3"><!> <!> <!></div></td></tr>',1),Me=b('<button class="mt-1" type="button">Save</button>'),Ne=b('<div><div class="space-between mb-1 flex flex-row gap-1"><select class="px-1"><option>New</option><option disabled="">Newer attempts at the top</option><!></select> <!> <div> </div></div> <div class="mb-3 flex flex-col items-center"><!> <table><tbody></tbody></table> <!></div></div>');function lt(j,m){re(m,!0);const w=()=>Fe(I,"$mbldStore",A),[A,P]=Se();let _=E(8),n=E(""),s=E(-1),C=E(void 0),i=E(xe([])),y=se(()=>e(s)===-1?e(i):w()[e(s)-1]?.scrambles);const $=24;ge(async()=>{v(C,(await pe(async()=>{const{randomScrambleForEvent:t}=await import("https://cdn.cubing.net/v0/js/cubing/scramble");return{randomScrambleForEvent:t}},[],import.meta.url)).randomScrambleForEvent,!0)});var u=Ne(),S=o(u),F=o(S),B=o(F);B.value=B.__value=-1;var M=l(B);M.value=M.__value="";var le=l(M);U(le,3,()=>w().slice(-20),t=>t.date,(t,a,p)=>{var d=Le(),h=o(d,!0);r(d);var f={};x(g=>{L(h,g),f!==(f=e(p)+1)&&(d.value=d.__value=e(p)+1)},[()=>De(e(a).date)]),c(t,d)}),r(F);var q=l(F,2);{var ie=t=>{var a=Re(),p=te(a),d=l(o(p));we(d),r(p);var h=l(p);x(()=>h.disabled=e(s)!==-1),he(d,()=>e(_),f=>v(_,f)),G("click",h,async()=>{if(e(s)!==-1||!e(C))return;const f=[];v(n,`Generating scramble 1/${e(_)}`);for(let g=0;g<e(_);g++){v(n,`Generating scramble ${g+1}/${e(_)}`);const D=await e(C)("333bf");f.push(D.toString())}v(i,f,!0),v(n,`Generated ${e(_)} scrambles`)}),c(t,a)},ce=t=>{var a=Ge();x(()=>a.disabled=!e(s)),G("click",a,async()=>{v(n,"Please wait"),await navigator.clipboard.writeText(e(y).join(`
`)),v(n,`${e(y).length} copied to clipboard`)}),c(t,a)};R(q,t=>{e(s)===-1?t(ie):t(ce,!1)})}var H=l(q,2),ne=o(H,!0);r(H),r(S);var J=l(S,2),K=o(J);{var de=t=>{var a=Ue();G("click",a,()=>{ae(I,[{date:new Date,youtube_link:"",offset_s:0,chapters:"",time_s:0,scrambles:e(i),cubes:e(i).map(()=>({dnf_reason:"",exec_start_s:0,is_dnf:!1,pack:"",scramble:""}))},...w()]),v(s,1)}),c(t,a)};R(K,t=>{e(y).length>0&&e(s)===-1&&t(de)})}var N=l(K,2),Q=o(N);U(Q,23,()=>e(y),t=>`${t}`,(t,a,p)=>{var d=Be(),h=te(d);{var f=k=>{var z=je();c(k,z)};R(h,k=>{e(p)%7===0&&k(f)})}var g=l(h,2),D=o(g),me=o(D,!0);r(D);var T=l(D),W=o(T);U(W,23,()=>e(a).split(" "),(k,z)=>`${k}-${z}`,(k,z,Te,Ve)=>{var V=Pe(),ue=o(V,!0);r(V),x(()=>L(ue,e(z))),c(k,V)}),r(W),r(T);var X=l(T),Y=o(X),Z=o(Y);O(Z,{get scramble(){return e(a)},face:"L",size:$});var ee=l(Z,2);O(ee,{get scramble(){return e(a)},face:"F",size:$});var _e=l(ee,2);O(_e,{get scramble(){return e(a)},face:"R",size:$}),r(Y),r(X),r(g),x(()=>L(me,e(p)+1)),c(t,d)}),r(Q),r(N);var ve=l(N,2);{var be=t=>{var a=Me();G("click",a,()=>{ae(I,[{date:new Date,youtube_link:"",chapters:"",offset_s:0,time_s:0,scrambles:e(i),cubes:e(i).map(()=>({dnf_reason:"",exec_start_s:0,is_dnf:!1,pack:"",scramble:""}))},...w()]),v(s,1)}),c(t,a)};R(ve,t=>{e(y).length>0&&e(s)===-1&&t(be)})}r(J),r(u),x(()=>L(ne,e(n))),ke(F,()=>e(s),t=>v(s,t)),c(j,u),oe(),P()}ye(["click"]);export{lt as component};
